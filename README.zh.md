
# T2Auth

T2Auth是一款Chrome扩展程序，旨在简化东京工业大学的IT设施使用并改善用户体验。

目前，它仅支持自动登录和课程日历生成。

## 用法

### 选项

您可以从左侧的导航栏中选择页面。您还可以在任何页面通过JSON文件导入和导出选项。

#### 选项页面

* `语言` 目前支持英语、日语和简体中文。
* `自动登录`：如果选中，扩展程序将在打开门户页面时自动登录。
* `课程时刻表`：每个时间段的间隔。课表可以在官方网站和教育网络系统中找到。

#### 账户

账户、密码和矩阵认证码都在选项页面中配置。您可以右键单击扩展程序图标打开选项页面。

### 登录

在打开[门户](https://portal.nap.gsic.titech.ac.jp)页面后，如果选中了`自动登录`，扩展程序将自动开始登录。否则，需要手动点击矩阵代码认证按钮，并在按钮下方显示扩展程序已准备好的提示。

如果有任何错误信息，将弹出警告对话框。

### 生成日程文件

如果可用，将显示标签为`生成日程文件`的按钮。

* 在打开OCW课程详细信息页面后，该按钮将出现在课程标题下方的右侧。
* 在打开教育网络系统的课程注册（申告科目の登録）页面后，该按钮将出现在“打印此画面”（この画面を印刷）按钮上方。

单击按钮后，您可以设置所有季度的间隔，选择在弹出窗口上省略哪一天。单击窗口底部的`生成iCalendar日程文件`，将生成一个链接。

生成的文件格式为iCalendar格式，扩展名为`.ics`。它可以导入到常见的日程管理软件中，如Google日历。

## 安全性

* 所有存储的私人信息都是使用用户的电子邮件地址和识别代码生成的AES-256加密的。如果没有用户登录到Chrome，将使用默认的密钥和初始向量来加密和解密数据。
  * 这意味着：
    * 如果用户状态发生变化（例如，您退出登录或切换帐户），则存储在存储中的数据将不再可用。
    * 如果您泄露了**电子邮件和识别代码**，则拥有此扩展程序源代码的任何人都有可能解密数据。
    * 有关更多详细信息，请参阅<https://developer.chrome.com/docs/extensions/reference/identity/#method-getProfileUserInfo>
* 此扩展程序在其生命周期内不会直接创建HTTP请求。
  * 这意味着不会手动将任何信息发送到任何服务器（包括我的私人服务器）。
* 您可以在选项页面中以**纯文本**格式输出和输入信息。请将它们存储在安全可信的位置。

### 免责声明

使用此扩展程序即表示您同意**此扩展程序的开发人员不对任何隐私泄露负责**。

## 开发

该项目使用以下技术：

* [Vite](https://vitejs.dev/) 和 [CRXJS](https://crxjs.dev/) 用于打包
* [Mithril.js](https://mithril.js.org/) 用于前端渲染
* md5.js 和 [CryptoJS](https://github.com/brix/crypto-js) 用于加密和解密
* [ical.js](https://github.com/kewisch/ical.js) 用于日历生成
* [day.js](https://day.js.org/) 用于不可变日期时间表示
* [i18next](https://www.i18next.com/) 用于国际化
* [Pure CSS](https://purecss.io/) 用于UI显示。

如果您希望在自己的环境中构建和调试，请按照[此说明](https://crxjs.dev/vite-plugin/concepts/pages)进行操作。
